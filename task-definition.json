{
  "name": "CreateVectorTiles",
  "version": "0.1.0",
  "description": "Creates vector tiles from any valid OGR data source.",
  "properties": {
    "isPublic": false,
    "timeout": 7200
  },
  "inputPortDescriptors": [
    {
      "name": "data",
      "type": "directory",
      "description": "The S3 location containing all data sources to be added as vector tile layers."
    },
    {
      "name": "name",
      "type": "string",
      "description": "(Optional) The name of the final .mbtiles file (if explode = 'false') or tile directory (if explode = 'true')."
    },
    {
      "name": "layers",
      "type": "string",
      "description": "(Optional) A mapping of input file names to layer names as they should appear in the final vector tiles file. This must be provided as a comma-separated list of mappings of the form 'filename_1=layer_name1,filename_2=layer_name_2'. Any input files not present in the mapping will be named based on their filename."
    }
    {
      "name": "skip_errors",
      "type": "string",
      "description": "(Optional) Whether to skip any layers that throw errors or to fail the entire task. Allowed values are 'true' and 'false'. Default is 'true'.",
      "allowedValues": ["true", "false"]
    },
    {
      "name": "explode",
      "type": "string",
      "description": "(Optional) Whether to deliver the outputs as a directory of files ('true') or as a single .mbtiles file ('false'). Allowed values are 'true' and 'false'. Default is 'false'.",
      "allowedValues": ["true", "false"]
    },
    {
      "name": "tippecanoe_options",
      "type": "string",
      "description": "(Optional) A comma-separated string of options that will be appended to the tippecanoe commands. Options must be provided in the format '-my_option=my_value,--my_second_option=my_second_value'. Options provided here will override any equivalent options in the input ports (e.g. layers). Default is blank string.",
      "allowedValues": ["See tippecanoe documentation (https://github.com/mapbox/tippecanoe#options)"]
    }
  ],
  "outputPortDescriptors": [
    {
      "name": "data",
      "type": "directory",
      "description": "The S3 prefix for the final vector tiles. If explode = 'false' then the results will be at <outputPortDescriptors.data>/<inputPortDescriptors.name>.mbtiles. If explode = 'true' then results will be in <outputPortDescriptors.data>/<inputPortDescriptors.name>."
    }
  ]
}
